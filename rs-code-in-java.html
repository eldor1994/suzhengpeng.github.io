<!DOCTYPE html>
<html>

<head>
	<!-- Meta -->
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
	<meta name="generator" content="Jekyll">

	<title>RS码基础算法与java实现-Su'S Blog </title>
  <meta name="description" content="RS码的基础知识与JAVA编程实现 ">

	<!-- CSS & fonts -->
	<link rel="stylesheet" href="/css/main.css">

	<!-- RSS -->
	<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/png" href="/img/favicon.png">
    <style type="text/css">

</style>
<script charset="utf-8" src="http://map.qq.com/api/js?v=2.exp"></script>
<script>
var init = function() {
    var center = new qq.maps.LatLng(37.916527,106.397128);
	var tsingtao = new qq.maps.LatLng(36.065162,120.312567);
	var jinan = new qq.maps.LatLng(36.670966,116.990919);
	var xian = new qq.maps.LatLng(34.276936,108.962660);
	var xinan = new qq.maps.LatLng(34.718308,112.154574);
	var shanghai = new qq.maps.LatLng(31.250085,121.455917);
	var kunshan = new qq.maps.LatLng(31.366225,120.957520);
	var fengxian = new qq.maps.LatLng(34.701436,116.649528);
	var zhengzhou = new qq.maps.LatLng(34.745509,113.657212);
    var map = new qq.maps.Map(document.getElementById('container-map'),{
        center: center,
        zoom: 7
    });
	   //获取城市列表接口设置中心点
    citylocation = new qq.maps.CityService({
        complete : function(result){
            map.setCenter(result.detail.latLng);
        }
    });
    //调用searchLocalCity();方法    根据用户IP查询城市信息。
    citylocation.searchLocalCity();
	
		//添加到提示窗
	var info = new qq.maps.InfoWindow({
        map: map
    });
    //青岛
    var marker = new qq.maps.Marker({
        position: tsingtao,
        map: map
    });
    //获取标记
    qq.maps.event.addListener(marker, 'click', function() {
        info.open(); 
        info.setContent('<small>📍 <a href="/tag/tsingtao.html">山东省青岛市</a><br> 17 Jun 2017 <a href="/laoshan-jufeng">崂山巨峰游览小记</a> <br>28 Apr 2017 <a href="/tbm-and-signal-hill">青啤博物馆与信号山公园</a> <br>23 Apr 2017 <a href="/railway-station-to-54-square">红石绿海</a> <br>18 Mar 2017 <a href="/night-54-square">夜游五四广场</a> <br>                        </small>');
        info.setPosition(tsingtao); 
    });
	//济南
	    var marker = new qq.maps.Marker({
        position: jinan,
        map: map
    });
    //获取标记
    qq.maps.event.addListener(marker, 'click', function() {
        info.open(); 
        info.setContent('<small>📍 <a href="/tag/ji%27nan.html">山东省济南市</a><br>     15 Apr 2017 <a href="/welcome-to-the-hell">Welcome to the hell</a> <br>                     </small>');
        info.setPosition(jinan); 
    });
	//xian
	    var marker = new qq.maps.Marker({
        position: xian,
        map: map
    });
    //获取标记
    qq.maps.event.addListener(marker, 'click', function() {
        info.open(); 
        info.setContent('<small>📍 <a href="/tag/xi%27an.html">陕西省西安市</a><br>    05 Aug 2017 <a href="/the-site-of-weiyang-palace">汉长安城未央宫遗址</a> <br> 31 Mar 2017 <a href="/roaming-xian">西安漫行</a> <br>                      </small>');
        info.setPosition(xian); 
    });
	//xin-an
	    var marker = new qq.maps.Marker({
        position: xinan,
        map: map
    });
    //获取标记
    qq.maps.event.addListener(marker, 'click', function() {
        info.open(); 
        info.setContent('<small>📍 <a href="#">河南省新安县</a></small>');
        info.setPosition(xinan); 
    });
	//shanghai
	    var marker = new qq.maps.Marker({
        position: shanghai,
        map: map
    });
    //获取标记
    qq.maps.event.addListener(marker, 'click', function() {
        info.open(); 
        info.setContent('<small>📍 <a href="#">上海市</a></small>');
        info.setPosition(shanghai); 
    });
	//kunshan
	    var marker = new qq.maps.Marker({
        position: kunshan,
        map: map
    });
    //获取标记
    qq.maps.event.addListener(marker, 'click', function() {
        info.open(); 
        info.setContent('<small>📍 <a href="#">江苏省昆山市</a></small>');
        info.setPosition(kunshan); 
    });
	//fengxian
	    var marker = new qq.maps.Marker({
        position: fengxian,
        map: map
    });
    //获取标记
    qq.maps.event.addListener(marker, 'click', function() {
        info.open(); 
        info.setContent('<small>📍 <a href="#">江苏省丰县</a></small>');
        info.setPosition(fengxian); 
    });
		//郑州 zhengzhou
	    var marker = new qq.maps.Marker({
        position: zhengzhou,
        map: map
    });
    //获取标记
    qq.maps.event.addListener(marker, 'click', function() {
        info.open(); 
                info.setContent('<small>📍 <a href="/tag/zheng%27zhou.html">河南省郑州市</a><br>                          03 Oct 2017 <a href="/zhengzhou">2017年十一：大象中原 郑州行</a> <br></small>');
        info.setPosition(zhengzhou); 
    });
	
	
}

</script>    
		</head>


<body>
	<div id="wrap">
	  	
	  	<!-- Navigation -->
	  	

<nav id="nav">

    <!-- Nav links -->
	  

  
  <!-- Nav footer 
	
	  <footer><span>

<div class="footer" id="nav-links">

	<div class="footer-one">
	
		<div class="footer-ico"></div>
		<br>
		Suzhengpeng @ Xidian University 
		<br>
			 <div class="footer-power">
		Proudly hosted by Github and powered by Jekyll </div>
		<br>
	
	</div>
	
	<div class="footer-two">
	
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		
			<a href="/pages/page/about" title="About">About</a>&nbsp;&nbsp;<br>
		

	    
		

	    
		

	    
		
			<a href="/pages/page/contact" title="Contact">Contact</a>&nbsp;&nbsp;<br>
		

	    
		
			<a href="/pages/page/copyright" title="Copyright">Copyright</a>&nbsp;&nbsp;<br>
		

	    
		

	    
		

	    
		
			<a href="/pages/page/link" title="Links">Links</a>&nbsp;&nbsp;<br>
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		<br>

	</div>
	<div class="footer-two">
					
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
			<a href="/pages/data/computerVision" title="计算机视觉相关期刊与会议资料">计算机视觉相关期刊与会议资料</a>&nbsp;&nbsp;
		
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
		
	</div>
	<div class="footer-two-1">
	<b><small>Friends Links</small></b>
					
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
			<br><a href="http://www.yushuai.me/" title="小奥の专属领地" target="_blank">小奥の专属领地</a>&nbsp;&nbsp;
		
				
				
			<br><a href="https://www.zning.net.cn/" title="张宁网" target="_blank">张宁网</a>&nbsp;&nbsp;
		
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
		
	</div>
	<div class="footer-three">
			<div class="footer-qrcode">
			<img src="http://s.jiathis.com/qrcode.php?url=http://suzhengpeng.com/rs-code-in-java">
			</div><br>


	</div>


</div>
</span>



 </footer>
	-->
 <a href="/"><div class="footer-ico">
</div></a>
<br><br>
	<div id="nav-list">
		<!-- Nav pages -->

		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
			<a href="/pages/page/about" title="About">About</a>&nbsp;&nbsp;
		
	    
		
	    
		
	    
		
			<a href="/pages/page/contact" title="Contact">Contact</a>&nbsp;&nbsp;
		
	    
		
			<a href="/pages/page/copyright" title="Copyright">Copyright</a>&nbsp;&nbsp;
		
	    
		
	    
		
	    
		
			<a href="/pages/page/link" title="Links">Links</a>&nbsp;&nbsp;
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		
	    
		<br>

	 <br>Suzhengpeng @ Tsingtao<br><br>
	 <div class="footer-power">
Proudly hosted by Github and powered by Jekyll <br><br>
</div>
    </div>


 <div class="footer-ico-con">
 <table><tr>
<td><a href="http://space.bilibili.com/15155880" target="_blank"><img src="/img/ico/bilibili.ico"/></a> </td>
<td><a href="https://github.com/suzhengpeng" target="_blank"><img src="/img/ico/github.ico"/></a> </td>
<td><a href="http://weibo.com/sdustem" target="_blank"><img src="/img/ico/weibo.ico"/></a> </td>
<td><a href="https://www.douban.com/people/imsus/" target="_blank"><img src="/img/ico/douban.ico"/></a> </td>
<td><script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1261868763'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1261868763%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));</script></td>
</tr></table>
</div> 


<small>
		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
			<a href="/pages/data/computerVision" title="计算机视觉相关期刊与会议资料">计算机视觉相关期刊与会议资料</a>&nbsp;&nbsp;
		
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  		
				
	  
	 <br> 
</small>
 
<br>
	</nav>
    
    <!-- Icon menu -->
	  <a id="nav-menu">
	  	<div id="menu"></div>
	  </a>

      <!-- Header -->
      
        <header id="header" class="parent justify-spaceBetween">
  <div class="inner w100 relative">
    <div class="f-logo">  
      <a href="/">
        <h1>
          <span>Su</span>'S Blog
        </h1>
      </a>
    </div>

  </div>
</header>




      

    <!-- Main content -->
	  <div id="container">
		  
		<main>

			<article id="post-page">
	
	05 May 2017
	<h3>RS码基础算法与java实现 </h3>
	<!-- JiaThis Button BEGIN -->
	
<div style="padding: 10px; background:#fff;">

	<div style="position: relative; 
				border: 2px solid #E9F01D; 
				padding: 10px; 
				padding-bottom:20px;
				width:40%;
				min-width:300px;
				background:#E9F01D;
				color:#404040;
				border-radius:4px;
				" >
		<span style="position: absolute; 
					left: 30px; top: -32px; 
					width: 0; height: 0; 
					font-size: 0; 
					border-width: 16px; 
					border-style: dashed dashed solid dashed; 
					border-color: transparent transparent #E9F01D transparent;" ></span>
		<div class="jiathis_style" style="padding: 10px; background:#E9F01D;">
				<span class="jiathis_txt">分享到：</span>
				<a class="jiathis_button_weixin"></a>
				<a class="jiathis_button_tsina"></a>
				<a class="jiathis_button_fb"></a>
				<a class="jiathis_button_twitter"></a>
				<a class="jiathis_button_ydnote"></a>
				<a class="jiathis_button_linkedin"></a>
				<a href="http://www.jiathis.com/share?uid=2133390" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
		</div>
				<script type="text/javascript" >
				var jiathis_config={
					data_track_clickback:true,
					summary:"",
					ralateuid:{
						"tsina":"@ShannonSS"
					},
					shortUrl:false,
					hideMore:false
				}
				</script>
				<script type="text/javascript" src="http://v3.jiathis.com/code_mini/jia.js?uid=2133390" charset="utf-8"></script>
	</div>
</div>

	

<!-- JiaThis Button END -->
<br>
	<div class="content">

		<p>Updatetime 2017-6-9:增加说明线性分组码的一个特点,以及循环码的定义。</p>

<h3 id="1-总论">1 总论</h3>

<p>RS码即Reed-Solomon码，是m=1的q进制BCH码。以纪念它们的发现者Irving S.Reed和Gustave Solomon。</p>

<p>RS码广泛应用于数字通信和存储系统，以进行差错控制。</p>

<h3 id="2-数学基础">2 数学基础</h3>

<h4 id="21-伽罗华域">2.1 伽罗华域</h4>

<p>因为RS码时在伽罗华域中运算的，故需要了解伽罗华域的相关知识。</p>

<p><strong>2.1.1什么是域？</strong></p>

<p>域是一组元素的集合，在这个集合中进行加、减、乘、除后其结果仍在这个集合中。加法和乘法必须满足交换律、结合律和分配律。</p>

<p>域正式定义如下：</p>

<p><img src="/img/rscode/001.png" alt="image" /></p>

<p>从定义可以看出：</p>

<p>一个域至少包含两个元素，加法单位元和乘法单位元。域中元素的个数称为域的阶（order），一个含有有限个元素的域称为有限域（finite field）。</p>

<p><strong>2.1.2什么是伽罗华域？</strong></p>

<p>已知，对任意素数p，存在一个含p个元素的有限域。（证明见《差错控制编码（第二版）》例2-6林舒（Lin，S.），（美）科斯特洛（Costello，D.J.））</p>

<p>事实上，对任意正整数m，都可以吧一个素域GF(p)扩展成为一个pm个元素的域，称为GF(p)的扩域（extension field），记作GF(pm)。更进一步说，已经证明任何有限域的阶都是一个素数的幂，为纪念它们的发现者，将有限域称作伽罗华域（Galois field）</p>

<p><strong>2.1.3二元域算术</strong></p>

<p>在数字通信和存储系统中最常用的还是由二元域GF(2)或它的扩展域GF(2m)构造出的码，这是因为在这些系统中，信息往往使用二进制编码。因而，我们只关心二进制码和从GF(2m)中的符号生成的码。</p>

<p>下面我们考虑系数是二元域GF(2)中元素的多项式的计算：</p>

<p>以x为变量（variable），GF(2)中元素为系数的多项式f(x)由如下形式：</p>

<center>f(x)=f<sub>0</sub>+f<sub>1</sub>x+⋯+f<sub>n</sub>x<sup>n</sup> f<sub>i</sub>=0或1,0≤i≤n</center>

<p>多项式的次数（degree）是系数非零的x的最高幂次。</p>

<p>在GF(2)上有两个一次多项式：x和1+x；四个2次多项式：x2,1+x2，x+x2,1+x+x2。一般来说，GF(2)上有2n个n次多项式。</p>

<p>GF(2)上的多项式可以按通常的方式进行多项式的四则运算。令：</p>

<center>g(x)=g<sub>0</sub>+g<sub>1</sub>x+⋯+g<sub>n</sub>x<sup>n</sup> g<sub>i</sub>=0或1,0≤i≤n</center>

<p>1、计算f(x)和g(x)和：</p>

<p><img src="/img/rscode/004.png" alt="image" /></p>

<p>其中，fi+gi使用模2加法。</p>

<p>2、计算f(x)和g(x)积：</p>

<p><img src="/img/rscode/002.png" alt="image" /></p>

<p>其中：</p>

<blockquote>
  <p>c<sub>0</sub>=f<sub>0</sub>g<sub>0</sub>,c<sub>1</sub>=f<sub>0</sub>g<sub>1</sub>+f<sub>1</sub>g<sub>0</sub><br />
c<sub>i</sub>=f<sub>0</sub>g<sub>i</sub>+f<sub>1</sub>g<sub>i-1</sub>+……+f<sub>i</sub>g<sub>0</sub><br />
c<sub>n+m</sub>=f<sub>n</sub>g<sub>m</sub><br />
f<sub>i</sub>g<sub>j</sub>使用模2乘法。</p>
</blockquote>

<p><img src="/img/rscode/003.png" alt="image" /></p>

<p><strong>2.1.4伽罗华域的构造</strong></p>

<p><img src="/img/rscode/005.png" alt="image" /></p>

<p><img src="/img/rscode/006.png" alt="image" /></p>

<h4 id="22-线性分组码">2.2 线性分组码</h4>

<p><strong>2.2.1概述</strong></p>

<p>信源输出为一系列的二进制数字0和1，在分组码中，这些二进制信息序列分成固定长度的消息分组(message block)。每个消息分组记为u，由<strong>k个信息位</strong>组成。因此共有2<sup>k</sup>种不同的消息。</p>

<p><strong>编码器</strong>按照一定的规则将输入的消息u转换为二进制n维向量v，这里n&gt;k。n维向量v就叫做消息u的码字(codeword)或码向量(code vector)。</p>

<p>对应于2<sup>k</sup>种不同的消息，也有2<sup>k</sup>种码字。这2<sup>k</sup>个码字的集合就叫做一个<strong>分组码(block code)</strong>。</p>

<p>线性分组码的定义如下：</p>

<p>一个长度为n，由2<sup>k</sup>个码字的分组码，当且仅当其2<sup>k</sup>个码字构成域GF(2)上所有n维向量组成的向量空间的一个k维子空间时被称为<strong>线性(linear)(n,k)码</strong>。即：一个二进制分组码字的充要条件时其任意两个码字的模2和仍然是该分组码中的一个码字。</p>

<p>当分组码是线性分组码时，可以大大降低编码器的编码复杂度。</p>

<p><strong>2.2.2系统结构</strong></p>

<p>对于线性分组码，其系统结构(systematic structure)共计n位，前n-k位为冗余校验部分，后k位为消息部分。消息部分由k个未经改变的原始消息位构成，冗余校验部分则是n-k个奇偶校验位。具有这种结构的线性分组码被称为<strong>线性系统分组码(linear systematic block code)</strong>。</p>

<h4 id="23-循环码">2.3 循环码</h4>

<p>循环码构成了线性分组码的一个重要子类。1957年Eugene Prange首次对循环码进行了研究。之后，随着众多数学家的努力，循环码在<strong>随机差错纠正</strong>和<strong>突发错误纠正</strong>两方面的研究突飞猛进。如：RS码，BCH码都是循环码。</p>

<p>循环码的定义就它的名字一样直接了当。具体定义如下表述：</p>

<p>已知一个线性分组码长度为n，写作一个n维向量 v=(v<sub>0</sub>,v<sub>1</sub>,……,v<sub>n-1</sub>)。如果将该向量右移一位，可得v<sup>1</sup>=(v<sub>n-1</sub>,v<sub>0</sub>,……,v<sub>n-2</sub>)。如果将向量右移i位，可得v<sup>i</sup>=(v<sub>n-i</sub>,v<sub>n-i+1</sub>,……,v<sub>n-i-1</sub>)。</p>

<p>如果一个线性分组码C的任意码字循环移位后仍然是C的码字，则称其为<strong>循环码(Cyclic Code)</strong></p>

<h4 id="24-非二进制q进制bch码">2.4 非二进制(q进制)BCH码</h4>

<p>BCH码是对汉明码的一种重要推广，可用于纠正多个错误。</p>

<p>q进制BCH码的q个元素取自伽罗华域GF(q)，GF(q)上q<sup>n</sup>个n维向量组成向量空间(v<sub>0</sub>,v<sub>1</sub>,…v<sub>n-1</sub>)。</p>

<p>对于任意正整数m，具有q<sup>m</sup>个元素的伽罗华域GF(q<sup>m</sup>)可以由基础域GF(q)构造得到。</p>

<h4 id="25-rs码">2.5 RS码</h4>

<p>Reed-Solomon码是m=1的q进制BCH码，其广泛应用在数字通信和存储系统中，以进行差错控制。Reed-Solomon码由[n,k,d]三个系数定义，其中：n为码字的分组长度；k为码字的信息符号（information digit）的长度，n-k为奇偶校验符号数；d为相邻码字的最小码距，其最多可以纠正t=(d-1)/2个错误。</p>

<p>令α为伽罗华域GF(q)中的本原元，纠错码的生成多项式为：</p>
<blockquote>
  <p>g(X)=(X-α)(X-α<sup>2</sup> )……(X-α<sup>2t</sup> )=g<sub>0</sub>+g<sub>1</sub>X+⋯+g<sub>2t-1</sub>X<sup>2t-1</sup>+X<sup>2t</sup>
其中g<sub>i</sub>=GF(q)，0≤i＜2t</p>
</blockquote>

<p>由于α，α<sub>2</sub>……α<sub>2t</sub>是 X<sup>(q-1)</sup>-1的根，因此 X<sup>(q-1)</sup>-1 能被g(X)整除。所以g(X)将生成恰好2t个奇偶校验符号，长度为n=q-1的q进制循环码，故该码的最小码距d=2t+1。</p>

<blockquote>
  <p>令：
a(x)=a<sub>0</sub>+a<sub>1</sub>X+⋯+a<sub>k-1</sub>X<sup>k-1</sup></p>
</blockquote>

<p>其中a<sub>i</sub>(0≤i≤k-1)为需要编码的k位信息。其中k=n-2t。在系统编码形式下，信息多项式X<sup>2t</sup> a(X)除以生成多项式g(x)得到的余式：</p>

<blockquote>
  <p>b(x)=b<sub>0</sub>+b<sub>1</sub>X+⋯+b<sub>2t-1</sub> X<sup>2t-1</sup></p>
</blockquote>

<p>其系数即为2t个奇偶校验符号。GF(q)，可纠正t个错误的RS码具有吐下参数：</p>

<blockquote>
  <p>分组长度 n=q-1<br />
奇偶校验符号数 n-k=2t<br />
维数 k=q-1-2t<br />
最小码距 d<sub>min</sub>=2t+1</p>
</blockquote>

<h3 id="3-编程实现">3 编程实现</h3>

<h4 id="31-算法流图">3.1 算法流图</h4>

<h4 id="32-实现">3.2 实现</h4>

<figure class="highlight"><pre><code class="language-java" data-lang="java">    <span class="c1">//部分宏定义</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">MM</span> <span class="o">=</span> <span class="mi">8</span><span class="o">;</span> <span class="c1">//生成伽罗华域 GF(2^MM)空间</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="n">NN</span> <span class="o">=</span> <span class="mi">255</span><span class="o">;</span><span class="c1">//纠错码字+数据码字长度</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="n">KK</span> <span class="o">=</span> <span class="mi">14</span><span class="o">;</span><span class="c1">//数据码字长度</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">TT</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>

	
	<span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">pp</span> <span class="o">=</span> <span class="o">{</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">};</span>
	<span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">alphaTo</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">NN</span><span class="o">+</span><span class="mi">1</span><span class="o">];</span>
	<span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">indexOf</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">NN</span><span class="o">+</span><span class="mi">1</span><span class="o">];</span>
	<span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">gg</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">+</span><span class="mi">1</span><span class="o">];</span>
	<span class="kd">public</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">recd</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">NN</span><span class="o">];</span><span class="c1">//纠错码字+数据码字</span>
	<span class="kd">public</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">data</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">KK</span><span class="o">];</span><span class="c1">//数据码字</span>
	<span class="kd">public</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">bb</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">];</span><span class="c1">//纠错码字</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-java" data-lang="java">    <span class="c1">//生成GF(2^MM MM=8)空间</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">generateGF</span><span class="o">()</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="n">mask</span><span class="o">;</span>
		<span class="n">mask</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
		<span class="n">alphaTo</span><span class="o">[</span><span class="n">MM</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">MM</span><span class="o">;</span> <span class="n">i</span><span class="o">++){</span>
			<span class="n">alphaTo</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">mask</span><span class="o">;</span>
			<span class="n">indexOf</span><span class="o">[</span><span class="n">alphaTo</span><span class="o">[</span><span class="n">i</span><span class="o">]]</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
			<span class="k">if</span><span class="o">(</span><span class="n">pp</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">){</span>
				<span class="n">alphaTo</span><span class="o">[</span><span class="n">MM</span><span class="o">]</span> <span class="o">^=</span> <span class="n">mask</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="n">mask</span> <span class="o">&lt;&lt;=</span> <span class="mi">1</span><span class="o">;</span>
		<span class="o">}</span>
		
		<span class="n">indexOf</span><span class="o">[</span><span class="n">alphaTo</span><span class="o">[</span><span class="n">MM</span><span class="o">]]</span> <span class="o">=</span> <span class="n">MM</span><span class="o">;</span>
		<span class="n">mask</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span><span class="o">;</span>
		
		<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="n">MM</span><span class="o">+</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">NN</span><span class="o">;</span> <span class="n">i</span><span class="o">++){</span>
			<span class="k">if</span><span class="o">(</span><span class="n">alphaTo</span><span class="o">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">]</span> <span class="o">&gt;=</span> <span class="n">mask</span><span class="o">){</span>
				<span class="n">alphaTo</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">alphaTo</span><span class="o">[</span><span class="n">MM</span><span class="o">]</span> <span class="o">^</span> <span class="o">((</span><span class="n">alphaTo</span><span class="o">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">]^</span><span class="n">mask</span><span class="o">)&lt;&lt;</span><span class="mi">1</span><span class="o">);</span>
			<span class="o">}</span><span class="k">else</span><span class="o">{</span>
				<span class="n">alphaTo</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">alphaTo</span><span class="o">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">]&lt;&lt;</span><span class="mi">1</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="n">indexOf</span><span class="o">[</span><span class="n">alphaTo</span><span class="o">[</span><span class="n">i</span><span class="o">]]</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
		<span class="o">}</span>
		
		<span class="n">indexOf</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
		<span class="c1">//输出GF空间</span>
        <span class="cm">/*System.out.println("GF空间:");
		for(i=0; i&lt;=NN; i++){
			System.out.println(i + "   " + alphaTo[i] + "   " + indexOf[i]);
		}*/</span>
	<span class="o">}</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-java" data-lang="java">    <span class="c1">//产生相应的生成多项式的各项系数</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">generatePolynomial</span><span class="o">()</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">;</span>
		<span class="n">gg</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
		<span class="n">gg</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
		<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="n">gg</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
			<span class="k">for</span><span class="o">(</span><span class="n">j</span><span class="o">=</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">;</span> <span class="n">j</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">--){</span>
				<span class="k">if</span><span class="o">(</span><span class="n">gg</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span>
					<span class="n">gg</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">gg</span><span class="o">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="o">]</span> <span class="o">^</span> <span class="n">alphaTo</span><span class="o">[(</span><span class="n">indexOf</span><span class="o">[</span><span class="n">gg</span><span class="o">[</span><span class="n">j</span><span class="o">]]+</span><span class="n">i</span><span class="o">)</span> <span class="o">%</span> <span class="n">NN</span><span class="o">];</span>
				<span class="k">else</span>
					<span class="n">gg</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">gg</span><span class="o">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="o">];</span>
			<span class="o">}</span>
			<span class="n">gg</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">alphaTo</span><span class="o">[(</span><span class="n">indexOf</span><span class="o">[</span><span class="n">gg</span><span class="o">[</span><span class="mi">0</span><span class="o">]]+</span><span class="n">i</span><span class="o">)</span> <span class="o">%</span> <span class="n">NN</span><span class="o">];</span>
		<span class="o">}</span>
		
		<span class="c1">//转换其到</span>
		<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="n">gg</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">indexOf</span><span class="o">[</span><span class="n">gg</span><span class="o">[</span><span class="n">i</span><span class="o">]];</span>
		<span class="o">}</span>
		
		<span class="c1">//输出生成多项式的各项系数</span>
		<span class="c1">//System.out.println("生成多项式系数:");</span>
		<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="c1">//System.out.println(gg[i]);</span>
		<span class="o">}</span>
	<span class="o">}</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-java" data-lang="java">    <span class="c1">//进行RS编码</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">rsEncode</span><span class="o">()</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">;</span>
		<span class="kt">int</span> <span class="n">feedback</span><span class="o">;</span>
		<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="n">bb</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="o">}</span>
		<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="n">KK</span><span class="o">-</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">--)</span> <span class="o">{</span>
			<span class="c1">//逐步的将下一步要减的，存入bb(i)</span>
			<span class="n">feedback</span> <span class="o">=</span> <span class="n">indexOf</span><span class="o">[</span><span class="n">data</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">^</span> <span class="n">bb</span><span class="o">[</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">-</span><span class="mi">1</span><span class="o">]];</span>
			<span class="k">if</span><span class="o">(</span><span class="n">feedback</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">for</span><span class="o">(</span><span class="n">j</span><span class="o">=</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">-</span><span class="mi">1</span><span class="o">;</span> <span class="n">j</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">--)</span> <span class="o">{</span>
					<span class="k">if</span><span class="o">(</span><span class="n">gg</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span>
						<span class="n">bb</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">bb</span><span class="o">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="o">]</span> <span class="o">^</span> <span class="n">alphaTo</span><span class="o">[(</span><span class="n">gg</span><span class="o">[</span><span class="n">j</span><span class="o">]+</span><span class="n">feedback</span><span class="o">)%</span><span class="n">NN</span><span class="o">];</span>
					<span class="k">else</span>
						<span class="n">bb</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">bb</span><span class="o">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="o">];</span>
				<span class="o">}</span>
				<span class="n">bb</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">alphaTo</span><span class="o">[(</span><span class="n">gg</span><span class="o">[</span><span class="mi">0</span><span class="o">]+</span><span class="n">feedback</span><span class="o">)%</span><span class="n">NN</span><span class="o">];</span>
			<span class="o">}</span><span class="k">else</span> <span class="o">{</span>
				<span class="k">for</span><span class="o">(</span><span class="n">j</span><span class="o">=</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">-</span><span class="mi">1</span><span class="o">;</span> <span class="n">j</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">--)</span> <span class="o">{</span>
					<span class="n">bb</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">bb</span><span class="o">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="o">];</span>
				<span class="o">}</span>
				<span class="n">bb</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
			<span class="o">}</span>
		<span class="o">}</span>
		<span class="c1">//输出编码结果</span>
		<span class="c1">//System.out.println("编码结果:");</span>
		<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">bb</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
		<span class="o">}</span>
	<span class="o">}</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-java" data-lang="java">    <span class="c1">//进行RS解码</span>
    <span class="c1">//发现错误的位置并纠正</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">rsDecode</span><span class="o">()</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">,</span> <span class="n">u</span><span class="o">,</span> <span class="n">q</span><span class="o">;</span>
		<span class="kt">int</span><span class="o">[][]</span> <span class="n">elp</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">+</span><span class="mi">2</span><span class="o">][</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">];</span>
		<span class="kt">int</span><span class="o">[]</span> <span class="n">d</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">+</span><span class="mi">2</span><span class="o">];</span>
		<span class="kt">int</span><span class="o">[]</span> <span class="n">l</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">+</span><span class="mi">2</span><span class="o">];</span>
		<span class="kt">int</span><span class="o">[]</span> <span class="n">u_lu</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">+</span><span class="mi">2</span><span class="o">];</span>
		<span class="kt">int</span><span class="o">[]</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">+</span><span class="mi">1</span><span class="o">];</span>
		
		<span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="kt">int</span> <span class="n">syn_error</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="kt">int</span><span class="o">[]</span> <span class="n">root</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">TT</span><span class="o">];</span>
		<span class="kt">int</span><span class="o">[]</span> <span class="n">loc</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">TT</span><span class="o">];</span>
		<span class="kt">int</span><span class="o">[]</span> <span class="n">z</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">TT</span><span class="o">+</span><span class="mi">1</span><span class="o">];</span>
		<span class="kt">int</span><span class="o">[]</span> <span class="n">err</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">NN</span><span class="o">];</span>
		<span class="kt">int</span><span class="o">[]</span> <span class="n">reg</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">TT</span><span class="o">+</span><span class="mi">1</span><span class="o">];</span>
		
		<span class="c1">//转换成GF空间</span>
		<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">NN</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="k">if</span><span class="o">(</span><span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span>
				<span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
			<span class="k">else</span>
				<span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">indexOf</span><span class="o">[</span><span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]];</span>
		<span class="o">}</span>
		
		<span class="c1">//求伴随多项式</span>
		<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
			<span class="k">for</span><span class="o">(</span><span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">NN</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
				<span class="k">if</span><span class="o">(</span><span class="n">recd</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span>
					<span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">^=</span> <span class="n">alphaTo</span><span class="o">[(</span><span class="n">recd</span><span class="o">[</span><span class="n">j</span><span class="o">]+</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">)%</span><span class="n">NN</span><span class="o">];</span>
			<span class="o">}</span>
			<span class="k">if</span><span class="o">(</span><span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span>
				<span class="n">syn_error</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
			<span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">indexOf</span><span class="o">[</span><span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">]];</span>
		<span class="o">}</span>
		<span class="c1">//System.out.println("syn_error=" + syn_error);</span>
		
		<span class="c1">//如果有错，则进行纠正</span>
		<span class="k">if</span><span class="o">(</span><span class="n">syn_error</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
			<span class="c1">//BM迭代求错误多项式的系数</span>
			<span class="n">d</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
			<span class="n">d</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">s</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
			<span class="n">elp</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
			<span class="n">elp</span><span class="o">[</span><span class="mi">1</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
			<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
				<span class="n">elp</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
				<span class="n">elp</span><span class="o">[</span><span class="mi">1</span><span class="o">][</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="n">l</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
			<span class="n">l</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
			<span class="n">u_lu</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
			<span class="n">u_lu</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
			<span class="n">u</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
			<span class="k">do</span> <span class="o">{</span>
				<span class="n">u</span><span class="o">++;</span>
				<span class="k">if</span><span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">u</span><span class="o">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">];</span>
					<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">];</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
						<span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">][</span><span class="n">i</span><span class="o">];</span>
						<span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">][</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">indexOf</span><span class="o">[</span><span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">][</span><span class="n">i</span><span class="o">]];</span>
					<span class="o">}</span>
				<span class="o">}</span><span class="k">else</span> <span class="o">{</span>
					<span class="n">q</span> <span class="o">=</span> <span class="n">u</span><span class="o">-</span><span class="mi">1</span><span class="o">;</span>
					<span class="k">while</span><span class="o">((</span><span class="n">d</span><span class="o">[</span><span class="n">q</span><span class="o">]==-</span><span class="mi">1</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="n">q</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">))</span> <span class="o">{</span>
						<span class="n">q</span><span class="o">--;</span>
					<span class="o">}</span>
					<span class="k">if</span><span class="o">(</span><span class="n">q</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
						<span class="n">j</span> <span class="o">=</span> <span class="n">q</span><span class="o">;</span>
						<span class="k">do</span> <span class="o">{</span>
							<span class="n">j</span><span class="o">--;</span>
							<span class="k">if</span><span class="o">((</span><span class="n">d</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="n">u_lu</span><span class="o">[</span><span class="n">q</span><span class="o">]</span> <span class="o">&lt;</span> <span class="n">u_lu</span><span class="o">[</span><span class="n">j</span><span class="o">]))</span> <span class="o">{</span>
								<span class="n">q</span> <span class="o">=</span> <span class="n">j</span><span class="o">;</span>
							<span class="o">}</span>
						<span class="o">}</span><span class="k">while</span><span class="o">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">);</span>
					<span class="o">}</span>
					
					<span class="k">if</span><span class="o">(</span><span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">]</span> <span class="o">&gt;</span> <span class="n">l</span><span class="o">[</span><span class="n">q</span><span class="o">]</span> <span class="o">+</span> <span class="n">u</span> <span class="o">-</span> <span class="n">q</span><span class="o">)</span> <span class="o">{</span>
						<span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">];</span>
					<span class="o">}</span><span class="k">else</span> <span class="o">{</span>
						<span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">l</span><span class="o">[</span><span class="n">q</span><span class="o">]</span> <span class="o">+</span> <span class="n">u</span> <span class="o">-</span><span class="n">q</span><span class="o">;</span>
					<span class="o">}</span>
					
					<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
						<span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
					<span class="o">}</span>
					<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">l</span><span class="o">[</span><span class="n">q</span><span class="o">];</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
						<span class="k">if</span><span class="o">(</span><span class="n">elp</span><span class="o">[</span><span class="n">q</span><span class="o">][</span><span class="n">i</span><span class="o">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span>
							<span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="n">i</span><span class="o">+</span><span class="n">u</span><span class="o">-</span><span class="n">q</span><span class="o">]</span> <span class="o">=</span> <span class="n">alphaTo</span><span class="o">[(</span><span class="n">d</span><span class="o">[</span><span class="n">u</span><span class="o">]+</span><span class="n">NN</span><span class="o">-</span><span class="n">d</span><span class="o">[</span><span class="n">q</span><span class="o">]+</span><span class="n">elp</span><span class="o">[</span><span class="n">q</span><span class="o">][</span><span class="n">i</span><span class="o">])%</span><span class="n">NN</span><span class="o">];</span>
					<span class="o">}</span>
					
					<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">];</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
						<span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="n">i</span><span class="o">]</span> <span class="o">^=</span> <span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">][</span><span class="n">i</span><span class="o">];</span>
						<span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">][</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">indexOf</span><span class="o">[</span><span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">][</span><span class="n">i</span><span class="o">]];</span>
					<span class="o">}</span>
				<span class="o">}</span>
				<span class="n">u_lu</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">u</span><span class="o">-</span><span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">];</span>
				
				<span class="k">if</span><span class="o">(</span><span class="n">u</span> <span class="o">&lt;</span> <span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">)</span> <span class="o">{</span>
					<span class="k">if</span><span class="o">(</span><span class="n">s</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
						<span class="n">d</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">alphaTo</span><span class="o">[</span><span class="n">s</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">]];</span>
					<span class="o">}</span><span class="k">else</span> <span class="o">{</span>
						<span class="n">d</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
					<span class="o">}</span>
					
					<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">];</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
						<span class="k">if</span><span class="o">((</span><span class="n">s</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">-</span><span class="n">i</span><span class="o">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="n">i</span><span class="o">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">))</span> <span class="o">{</span>
							<span class="n">d</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">^=</span> <span class="n">alphaTo</span><span class="o">[(</span><span class="n">s</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">-</span><span class="n">i</span><span class="o">]+</span><span class="n">indexOf</span><span class="o">[</span><span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="n">i</span><span class="o">]])%</span><span class="n">NN</span><span class="o">];</span>
						<span class="o">}</span>
					<span class="o">}</span>
					<span class="n">d</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">indexOf</span><span class="o">[</span><span class="n">d</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">]];</span>
				<span class="o">}</span>
			<span class="o">}</span><span class="k">while</span><span class="o">((</span><span class="n">u</span><span class="o">&lt;</span><span class="n">NN</span><span class="o">-</span><span class="n">KK</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="o">]&lt;=</span><span class="n">TT</span><span class="o">));</span>
			<span class="n">u</span><span class="o">++;</span>
			<span class="c1">//System.out.println("错误数目:" + l[u]);</span>
			
			<span class="c1">//求错误位置，以及改正错误</span>
			<span class="k">if</span><span class="o">(</span><span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">]</span> <span class="o">&lt;=</span> <span class="n">TT</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;=</span> <span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">];</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
					<span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">][</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">indexOf</span><span class="o">[</span><span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">][</span><span class="n">i</span><span class="o">]];</span>
				<span class="o">}</span>
				<span class="c1">//求错误位置多项式的根</span>
				<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;=</span> <span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">];</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
					<span class="n">reg</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">][</span><span class="n">i</span><span class="o">];</span>
				<span class="o">}</span>
				<span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
				<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">NN</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
					<span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
					<span class="k">for</span><span class="o">(</span><span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="n">j</span><span class="o">&lt;=</span><span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">];</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
						<span class="k">if</span><span class="o">(</span><span class="n">reg</span><span class="o">[</span><span class="n">j</span><span class="o">]!=-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
							<span class="n">reg</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="o">(</span><span class="n">reg</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">+</span> <span class="n">j</span><span class="o">)%</span><span class="n">NN</span><span class="o">;</span>
							<span class="n">q</span> <span class="o">^=</span> <span class="n">alphaTo</span><span class="o">[</span><span class="n">reg</span><span class="o">[</span><span class="n">j</span><span class="o">]];</span>
						<span class="o">}</span>
					<span class="o">}</span>
					
					<span class="k">if</span><span class="o">(</span><span class="n">q</span><span class="o">==</span><span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
						<span class="n">root</span><span class="o">[</span><span class="n">count</span><span class="o">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
						<span class="n">loc</span><span class="o">[</span><span class="n">count</span><span class="o">]</span> <span class="o">=</span> <span class="n">NN</span><span class="o">-</span><span class="n">i</span><span class="o">;</span>
						<span class="c1">//System.out.println("错误位置:" + loc[count]);</span>
						<span class="n">count</span><span class="o">++;</span>						
					<span class="o">}</span>
				<span class="o">}</span>
				
				<span class="c1">//</span>
				<span class="k">if</span><span class="o">(</span><span class="n">count</span> <span class="o">==</span> <span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">])</span> <span class="o">{</span>
					<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">];</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
						<span class="k">if</span><span class="o">((</span><span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">]!=-</span><span class="mi">1</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">][</span><span class="n">i</span><span class="o">]!=-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
							<span class="n">z</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">alphaTo</span><span class="o">[</span><span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">]]</span> <span class="o">^</span> <span class="n">alphaTo</span><span class="o">[</span><span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">][</span><span class="n">i</span><span class="o">]];</span>
						<span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">((</span><span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">]!=-</span><span class="mi">1</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">][</span><span class="n">i</span><span class="o">]==-</span><span class="mi">1</span><span class="o">))</span> <span class="o">{</span>
							<span class="n">z</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">alphaTo</span><span class="o">[</span><span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">]];</span>
						<span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">((</span><span class="n">s</span><span class="o">[</span><span class="n">i</span><span class="o">]==-</span><span class="mi">1</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">][</span><span class="n">i</span><span class="o">]!=-</span><span class="mi">1</span><span class="o">))</span> <span class="o">{</span>
							<span class="n">z</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">alphaTo</span><span class="o">[</span><span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">][</span><span class="n">i</span><span class="o">]]</span> <span class="o">;</span>
						<span class="o">}</span><span class="k">else</span> <span class="o">{</span>
							<span class="n">z</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
						<span class="o">}</span>
						
						<span class="k">for</span><span class="o">(</span><span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">i</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
							<span class="k">if</span><span class="o">((</span><span class="n">s</span><span class="o">[</span><span class="n">j</span><span class="o">]!=-</span><span class="mi">1</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">][</span><span class="n">i</span><span class="o">-</span><span class="n">j</span><span class="o">]!=-</span><span class="mi">1</span><span class="o">))</span> <span class="o">{</span>
								<span class="n">z</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">^=</span> <span class="n">alphaTo</span><span class="o">[(</span><span class="n">elp</span><span class="o">[</span><span class="n">u</span><span class="o">][</span><span class="n">i</span><span class="o">-</span><span class="n">j</span><span class="o">]</span> <span class="o">+</span> <span class="n">s</span><span class="o">[</span><span class="n">j</span><span class="o">])%</span><span class="n">NN</span><span class="o">];</span>
							<span class="o">}</span>
						<span class="o">}</span>
						
						<span class="n">z</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">indexOf</span><span class="o">[</span><span class="n">z</span><span class="o">[</span><span class="n">i</span><span class="o">]];</span>
					<span class="o">}</span>
					
					<span class="c1">//计算错误图样</span>
					<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">NN</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
						<span class="n">err</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
						<span class="k">if</span><span class="o">(</span><span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span>
							<span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">alphaTo</span><span class="o">[</span><span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]];</span>
						<span class="k">else</span>
							<span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
					<span class="o">}</span>
					<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">];</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
						<span class="n">err</span><span class="o">[</span><span class="n">loc</span><span class="o">[</span><span class="n">i</span><span class="o">]]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
						<span class="k">for</span><span class="o">(</span><span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="n">j</span><span class="o">&lt;=</span><span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">];</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
							<span class="k">if</span><span class="o">(</span><span class="n">z</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span>
								<span class="n">err</span><span class="o">[</span><span class="n">loc</span><span class="o">[</span><span class="n">i</span><span class="o">]]</span> <span class="o">^=</span> <span class="n">alphaTo</span><span class="o">[(</span><span class="n">z</span><span class="o">[</span><span class="n">j</span><span class="o">]+</span><span class="n">j</span><span class="o">*</span><span class="n">root</span><span class="o">[</span><span class="n">i</span><span class="o">])%</span><span class="n">NN</span><span class="o">];</span>
						<span class="o">}</span>
						
						<span class="k">if</span><span class="o">(</span><span class="n">err</span><span class="o">[</span><span class="n">loc</span><span class="o">[</span><span class="n">i</span><span class="o">]]</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
							<span class="n">err</span><span class="o">[</span><span class="n">loc</span><span class="o">[</span><span class="n">i</span><span class="o">]]</span> <span class="o">=</span> <span class="n">indexOf</span><span class="o">[</span><span class="n">err</span><span class="o">[</span><span class="n">loc</span><span class="o">[</span><span class="n">i</span><span class="o">]]];</span>
							<span class="n">q</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
							<span class="k">for</span><span class="o">(</span><span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">l</span><span class="o">[</span><span class="n">u</span><span class="o">];</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
								<span class="k">if</span><span class="o">(</span><span class="n">j</span><span class="o">!=</span><span class="n">i</span><span class="o">)</span>
									<span class="n">q</span> <span class="o">+=</span> <span class="n">indexOf</span><span class="o">[</span><span class="mi">1</span><span class="o">^</span><span class="n">alphaTo</span><span class="o">[(</span><span class="n">loc</span><span class="o">[</span><span class="n">j</span><span class="o">]+</span><span class="n">root</span><span class="o">[</span><span class="n">i</span><span class="o">])%</span><span class="n">NN</span><span class="o">]];</span>
							<span class="o">}</span>
							<span class="n">q</span> <span class="o">=</span> <span class="n">q</span><span class="o">%</span><span class="n">NN</span><span class="o">;</span>
							<span class="n">err</span><span class="o">[</span><span class="n">loc</span><span class="o">[</span><span class="n">i</span><span class="o">]]</span> <span class="o">=</span> <span class="n">alphaTo</span><span class="o">[(</span><span class="n">err</span><span class="o">[</span><span class="n">loc</span><span class="o">[</span><span class="n">i</span><span class="o">]]-</span><span class="n">q</span><span class="o">+</span><span class="n">NN</span><span class="o">)%</span><span class="n">NN</span><span class="o">];</span>
							<span class="n">recd</span><span class="o">[</span><span class="n">loc</span><span class="o">[</span><span class="n">i</span><span class="o">]]</span> <span class="o">^=</span> <span class="n">err</span><span class="o">[</span><span class="n">loc</span><span class="o">[</span><span class="n">i</span><span class="o">]];</span>
						<span class="o">}</span>
					<span class="o">}</span>
				<span class="o">}</span><span class="k">else</span> <span class="o">{</span>
					<span class="c1">//错误太多，无法改正</span>
					<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">NN</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
						<span class="k">if</span><span class="o">(</span><span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span>
							<span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">alphaTo</span><span class="o">[</span><span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]];</span>
						<span class="k">else</span>
							<span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
					<span class="o">}</span>
				<span class="o">}</span>
			<span class="o">}</span><span class="k">else</span> <span class="o">{</span>
				<span class="c1">//错误太多，无法改正</span>
				<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">NN</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
					<span class="k">if</span><span class="o">(</span><span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span>
						<span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">alphaTo</span><span class="o">[</span><span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]];</span>
					<span class="k">else</span>
						<span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
				<span class="o">}</span>
			<span class="o">}</span>
		<span class="o">}</span><span class="k">else</span> <span class="o">{</span>
			<span class="k">for</span><span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">NN</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
				<span class="k">if</span><span class="o">(</span><span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span>
					<span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">alphaTo</span><span class="o">[</span><span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]];</span>
				<span class="k">else</span>
					<span class="n">recd</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
			<span class="o">}</span>
		<span class="o">}</span>
	<span class="o">}</span>
	</code></pre></figure>

		
	</div>
	<div id="posts-out-tags"># <a href="/tag/rscode.html" rel="tag">RScode</a>, <a href="/tag/technology.html" rel="tag">technology</a>, <a href="/tag/encode.html" rel="tag">encode</a> </div> 
</article>



	  </main>
		
		  <!-- Pagination links -->
      

	  </div>
	    
	    <!-- Footer -->
	    <footer><span>

<div class="footer" id="nav-links">

	<div class="footer-one">
	
		<div class="footer-ico"></div>
		<br>
		Suzhengpeng @ Xidian University 
		<br>
			 <div class="footer-power">
		Proudly hosted by Github and powered by Jekyll </div>
		<br>
	
	</div>
	
	<div class="footer-two">
	
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		
			<a href="/pages/page/about" title="About">About</a>&nbsp;&nbsp;<br>
		

	    
		

	    
		

	    
		
			<a href="/pages/page/contact" title="Contact">Contact</a>&nbsp;&nbsp;<br>
		

	    
		
			<a href="/pages/page/copyright" title="Copyright">Copyright</a>&nbsp;&nbsp;<br>
		

	    
		

	    
		

	    
		
			<a href="/pages/page/link" title="Links">Links</a>&nbsp;&nbsp;<br>
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		

	    
		<br>

	</div>
	<div class="footer-two">
					
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
			<a href="/pages/data/computerVision" title="计算机视觉相关期刊与会议资料">计算机视觉相关期刊与会议资料</a>&nbsp;&nbsp;
		
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
		
	</div>
	<div class="footer-two-1">
	<b><small>Friends Links</small></b>
					
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
			<br><a href="http://www.yushuai.me/" title="小奥の专属领地" target="_blank">小奥の专属领地</a>&nbsp;&nbsp;
		
				
				
			<br><a href="https://www.zning.net.cn/" title="张宁网" target="_blank">张宁网</a>&nbsp;&nbsp;
		
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
		
	</div>
	<div class="footer-three">
			<div class="footer-qrcode">
			<img src="http://s.jiathis.com/qrcode.php?url=http://suzhengpeng.com/rs-code-in-java">
			</div><br>


	</div>


</div>
</span>



 </footer>

	    <!-- Script -->
      <script src="/js/main.js"></script>

	


	</div>
</body>
</html>
